## 平台管理
碳乡情项目联盟链服务层架构主要依托于BaaS平台搭建，BaaS（Blockchain as a Service），提出“区块链即服务”的思想，是指将区块链框架嵌入云计算平台，利用云服务基础设施的部署和管理优势，为开发者提供便捷、高性能的区块链生态环境和生态配套服务，支持开发者的业务拓展及运营支持的区块链开放平台。
### 账户管理
账户分为管理员账户和用户账户。
其中管理员账户用于本司碳乡情项目的功能开发与日常维护管理，可用于平台功能更新，数据宏观监控等。
用户账户面向碳乡情项目中具有交易权限的用户节点，如需要购买碳排放量的企业，以及提供碳排放量的农户或农业企业。使用用户账户能够在区块链上进行交易签名登记等，存证上链等业务。
### 统计报表
统计报表版面用于展示平台用户进行区块交易上链的费用信息、历史交易记录、账户登记上链的资源情况等。当经过环保部门审核批准通过，用户可以在统计报表上看到拥有的经过核实批准的碳资源的余量。当交易完成后，能够看到历史记录中碳资源的交易情况，包括交易对象，碳排放交易量等信息。
### 系统日志
后台能够自动记录系统中的各种运行信息，并向拥有管理员权限的用户展示，以便对整个平台进行性能评估和风险预测，保证区块链系统长期稳定的运行。
### 用户日志
通过用户日志来记录用户在平台执行的各项操作，用户可以通过用户日志来查询自己做过的历史操作记录，方便用户管理区块链。包括经过核实批准的碳资源的余量、碳资源的交易的历史记录等等。
### 安全管理
#### 算法管理
利用区块链的算法基本原理进行设计，保证交易数据安全保存，数据透明可查，无法篡改。交易过程中，客户端和节点通过 CA 中心获取 TLS 证书，客户端与节点、节点与节点间实行 TLS 双向认证，且通信流量经 TLS 加密，抵御中间人攻击。除了基本的证书验证外，节点与节点之间还增加了握手逻辑，通过在握手过程中添加验证对方节点私钥签名的方式来确保节点间通信的可靠，从算法逻辑上确保交易业务的安全性。
#### 软硬件加解密设备管理
软硬件加解密设备节点化，数据多节点存储，单节点数据丢失不影响整个网络，节点间数据同步机制保障数据的正确复制，提供数据归档工具，可以归档数据并使用传统方式备份。
#### 隐私保护管理
利用Baas平台，可以基于硬件可信执行环境（TEE）提供强隐私和高性能的链上数据隐私保护服务，可以对敏感交易数据提供全链路、全生命周期的隐私保护。对于要上链的交易数据，除了交易双方，在确保数据安全的情况下，其他广播节点无法获取原始的碳排放量交易数据。
### 系统监控
用于监控区块链服务平台自身的运行状况，比如用户操作的响应时间、区块链创建时间、在线用户数等指标。碳乡情项目中使用管理员账户的平台管理员有权查看系统监控数据。根据监控数据，及时排查区块链系统中存在的风险隐患，对于上链加密的性能进行动态调整设置。
### 计费管理
制定平台的定价策略，对平台用户使用平台的计算资源和服务计算相关费用。每当碳交易成功上链，需支付一定金额。可以通过购买代金卷的方式，购买上链和交易信息发布服务。
### 警告管理
对各种预警条件进行实施监控， 发现问题及时通知，比如监控网站后端的硬件情况，确保网站数据安全，业务正常进行。
## 区块链管理
### 区块链部署管理
通过调用接口，依托Baas,对新建区块链节点进行快速安装、配置、部署以及初始化等操作,也负责对已有区块链节点进行软件升级等操作。对初次申请碳乡情用户账户的节点，利用用户所提交的注册信息，自动为用户配置其所需的区块链节点，并快速新建新的节点，将其加入区块链网络中。当新的功能迭代时，对各节点自动进行软件升级。
### 区块链监控
区块链监控包括但不限于网络连通性监控、计算资源使用情况监控以及节点服务状态监控。监控信息会及时反馈到管理员账户，进行动态监控和维护。
### 区块链浏览器
可以让用户查询区块链高度、交易数量、网络拓扑、安装的智能合约列表、具体交易情况等区块链细节信息，帮助用户更好地了解区块链运行状态以及进行相关开发调试。可以通过区块链浏览器了解到碳乡情项目中当前的交易情况，详细查看碳排放量交易的上链情况。
### 智能合约管理
用户可以对用于描述碳排放量交易的区块链智能合约进行管理，可上传智能合约，其将被存放在智能合约库中，将其发布到链上，可以被其他成员审核和使用。对于有单独开发能力的用户，可以自行制作相关的碳交易的智能合约，将符合条件的合约上传。对于普通用户，可以使用默认的合约，一键使碳排放交易数据或个人数据上链。
### 动态联盟管理
碳乡情项目结合的联盟链由本司进行开发和封装成网站或app，让需要使用碳交易信息上链的用户使用更加便捷和高效。当用户注销账户之后，能够删除相关节点的私人信息，并退出联盟链。
### 区块链模板管理
平台管理员可以针对一些典型的区块链应用场景，预先制定相应的区块链模板，配置好缺省的参数。用户创建区块链时，只需根据自己的业务场景选择相应的预定义模板，就可以快速方便地创建满足需求的区块链。
## 资源管理

### 物理资源管理
对于并不基于云平台搭建的区块链服务BaaS平台可以直接管理底层的物理机资源。碳乡情项目采用第三方云平台与自建服务器共同工作的方式，为碳排放数据上链的各种业务的稳定运行提供保障。
### 云资源管理
碳乡情项目利用各种存储技术，能够对数据资源妥善管理，创建及删除虚拟机（Docker容器） 和网络资源、进行初始化配置、对已有资源进行扩容或缩容等操作。
### 云资源适配管理
对区块链节点的跨云部署支持，需要由该模块来实现对不同公有云、私有云的虚拟机、Docker容器等资源调度API的封装，屏蔽各种云平台API的差异性，对上层调用模块提供统一的资源管理接口。非常灵活的云资源适配管理，和规范的功能接口封装和调用，为不同平台上的碳排放资源交易业务迁移提供了便捷性。